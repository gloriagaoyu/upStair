window.__require=function e(t,i,o){function c(n,a){if(!i[n]){if(!t[n]){var s=n.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+n+"'")}}var u=i[n]={exports:{}};t[n][0].call(u.exports,function(e){return c(t[n][1][e]||e)},u,u.exports,e,t,i,o)}return i[n].exports}for(var r="function"==typeof __require&&__require,n=0;n<o.length;n++)c(o[n]);return c}({Common:[function(e,t,i){"use strict";cc._RF.push(t,"75c05LejbhCK5qjdTQ2DvpD","Common"),t.exports={playerScore:null,playerIndex:0,maxScore:0},cc._RF.pop()},{}],game:[function(e,t,i){"use strict";cc._RF.push(t,"1c1d9uNacpIoLKQiZQGQSIe","game");var o=e("Common");cc.Class({extends:cc.Component,properties:{audioSource:{default:null,type:cc.AudioSource},tyAudioSource:{default:null,type:cc.AudioSource},player:{default:null,type:cc.Node},qwPlayer:{default:null,type:cc.Node},xmPlayer:{default:null,type:cc.Node},stair:{default:null,type:cc.Prefab},dgStair:{default:null,type:cc.Prefab},lyStair:{default:null,type:cc.Prefab},nodeView:{default:null,type:cc.Node},timer:{default:null,type:cc.Label},stairIsLeft:!0,preStairX:0,preStairY:0,stairWidth:192,stairHeight:87,playersPos:0,nowSelectPlayer:0,timers:60},onLoad:function(){cc.director.getCollisionManager().enabled=!1,this.player.active=!1,this.qwPlayer.active=!1,this.xmPlayer.active=!1;Math.random();0==o.playerIndex?this.nowSelectPlayer=this.qwPlayer:1==o.playerIndex?this.nowSelectPlayer=this.player:this.nowSelectPlayer=this.xmPlayer,this.nowSelectPlayer.active=!0,this.nowSelectPlayer.setPosition(0,-250),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.newFirstStair(),this.audioSource.play(),this.timer.string=this.timers+"s",this.updateTimes()},updateTimes:function(){var e=this,t=setInterval(function(){e.timers=e.timers-1,e.timers<0?(e.gameOverThen(),clearInterval(t)):e.timer.string=e.timers+"s"},1e3)},newFirstStair:function(){var e=cc.instantiate(this.stair);this.nodeView.addChild(e,-1),e.setPosition(this.nowSelectPlayer.x,this.nowSelectPlayer.y-125),this.preStairX=e.x,this.preStairY=e.y;for(var t=0;t<10;t++){var i=Math.random();this.newOtherStair(i)}},newOtherStair:function(e){this.stairIsLeft=!(e<.5);var t,i=Math.random();t=i<.33?this.stair:i>.33&&i<.66?this.dgStair:this.lyStair;var o=cc.instantiate(t);o.direction=this.stairIsLeft,this.nodeView.addChild(o),this.stairIsLeft?o.setPosition(this.preStairX-this.stairWidth/2,this.preStairY+100):o.setPosition(this.preStairX+this.stairWidth/2,this.preStairY+100),this.preStairX=o.x,this.preStairY=o.y},playTyMusic:function(){this.tyAudioSource.play()},playerMove:function(e){var t=cc.moveTo(.1,cc.p(this.nowSelectPlayer.x,this.nowSelectPlayer.y+this.stairHeight)),i=cc.moveTo(.1,cc.p(this.nowSelectPlayer.x,this.nowSelectPlayer.y));this.nowSelectPlayer.runAction(cc.sequence(t,i,cc.callFunc(this.playTyMusic())));var o=1,c=96;e&&(o=-1,c=-96),this.nowSelectPlayer.scaleX=o,this.nodeView.runAction(cc.moveBy(.1,cc.p(c,-100))),this.playersPos+=1;var r=this;if(this.checkMoveIsRight(!e,this.playersPos)){var n=Math.random();this.newOtherStair(n),setTimeout(function(){r.node.on(cc.Node.EventType.TOUCH_START,r.onTouchStart,r)},200)}else this.gameOverThen()},onTouchStart:function(e){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this);var t=e.touch.getLocation().x>this.node.width/2;this.playerMove(t)},checkMoveIsRight:function(e,t){for(var i=this.nodeView.children,o=0;o<i.length;o++)if(i[t].direction==e)return!0;return!1},gameOverThen:function(){o.playerScore=this.playersPos-1,this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this);var e=cc.moveTo(.1,cc.p(this.nowSelectPlayer.x,this.nowSelectPlayer.y+this.stairHeight)),t=cc.moveTo(.5,cc.p(this.nowSelectPlayer.x,this.nowSelectPlayer.y-400));this.nowSelectPlayer.runAction(cc.sequence(e,t,cc.callFunc(this.gameOver)))},gameOver:function(){cc.director.loadScene("gameOver")}}),cc._RF.pop()},{Common:"Common"}],main:[function(e,t,i){"use strict";cc._RF.push(t,"3e36foHqMJFY5q2SDf0rrFE","main");var o=e("Common");cc.Class({extends:cc.Component,properties:{audioSource:{default:null,type:cc.AudioSource},playerAudioSource:{default:null,type:cc.AudioSource},startBtn:{default:null,type:cc.Button},peopleNode0:{default:null,type:cc.Node},peopleNode1:{default:null,type:cc.Node},peopleNode2:{default:null,type:cc.Node},peopleHg0:{default:null,type:cc.Node},peopleHg1:{default:null,type:cc.Node},peopleHg2:{default:null,type:cc.Node},playerNum:2},onLoad:function(){this.changePeople()},start:function(){wx.showShareMenu({withShareTicket:!0}),wx.onShareAppMessage(function(){return{title:"\u80d6\u5b50\u6765\u4e00\u8d77\u5929\u5929\u5411\u4e0a",imageUrl:"http://i-1-chuzhaobiao.qqxzb-img.com/2018/7/25/b628ab86-e2c0-4920-b1bc-824c21094a2b.jpg?imageView2/2/q/85",query:null}})},clickPeople0:function(){this.playerAudioSource.play(),o.playerIndex=0,this.changePeople()},clickPeople1:function(){this.playerAudioSource.play(),o.playerIndex=1,this.changePeople()},clickPeople2:function(){this.playerAudioSource.play(),o.playerIndex=2,this.changePeople()},changePeople:function(){this.peopleNode0.active=0==o.playerIndex,this.peopleHg0.active=0==o.playerIndex,this.peopleNode1.active=1==o.playerIndex,this.peopleHg1.active=1==o.playerIndex,this.peopleNode2.active=2==o.playerIndex,this.peopleHg2.active=2==o.playerIndex},startGame:function(){this.audioSource.play(),cc.director.loadScene("gameScene")}}),cc._RF.pop()},{Common:"Common"}],over:[function(e,t,i){"use strict";cc._RF.push(t,"5214f5FgUtN1rgdNiHHEI58","over");var o=e("Common");cc.Class({extends:cc.Component,properties:{score:{default:null,type:cc.Label},rankListContent:{default:null,type:cc.Node},buttonAudioSource:{default:null,type:cc.AudioSource},overAudioSource:{default:null,type:cc.AudioSource}},onLoad:function(){this.rankListContent.active=!1,this.overAudioSource.play(),this.score.string="\u5206\u6570\uff1a"+o.playerScore,wx.postMessage({message:"updateScore",score:o.playerScore})},start:function(){wx.showShareMenu({withShareTicket:!0}),wx.onShareAppMessage(function(){return{title:"\u80d6\u5b50\u6765\u4e00\u8d77\u5929\u5929\u5411\u4e0a",imageUrl:"http://i-1-chuzhaobiao.qqxzb-img.com/2018/7/25/b628ab86-e2c0-4920-b1bc-824c21094a2b.jpg?imageView2/2/q/85",query:null}})},rankList:function(){this.buttonAudioSource.play(),this.rankListContent.active=!0,wx.postMessage({message:"refresh"})},clickMainBg:function(){this.rankListContent.active=!1,wx.postMessage({message:"destory"})},rePlay:function(){this.buttonAudioSource.play(),cc.director.loadScene("gameScene")},goBack:function(){this.buttonAudioSource.play(),cc.director.loadScene("mainScene")}}),cc._RF.pop()},{Common:"Common"}],stair:[function(e,t,i){"use strict";cc._RF.push(t,"f91e6rQv3dFobEpTIbtT5kM","stair"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}]},{},["Common","game","main","over","stair"]);